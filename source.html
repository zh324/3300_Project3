<!DOCTYPE html>
<html lang="en">
	<head>
		<title>three.js webgl - geometry - catmull spline editor</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<link href="https://fonts.googleapis.com/css?family=Raleway:300" rel="stylesheet">
		<link href="css/decoration.css" rel="stylesheet">
	</head>
	<body>
		<div id="container" width="2000" height="2000"></div>
		<!-- <div id="distInfo"></div> -->
		
		<!--project information-->
		<div class="title card" id="buildinginfo">
			<h1>Welcome to Times Square!</h1>
				<div class="instructions" id="buildingName"></div>
				<div id="buildingPrice"></div>
				<div id="buildingRating"></div>
				<div id="buildingRegion"></div>
				<div id="buildingAddress"></div>
		</div>

		<div style="margin-bottom: 20px" class="controls-container card">
			<!--general filter-->
			<div class="category-title" style="width: 100%; float: left; padding-left: 12px">
				Click to filter places
			</div>
			<div style="float:left; padding-left: 12px" id="list13" class="dropdown-check-list" tabindex="100">
				<span class="anchor drop-down-title-font">Select</span>
				<ul class="items drop-down-item-font" id="items13">
					<li><input id="restID" type="checkbox" onclick="openFilter1(); updatePlot()">Restaurants</li>
					<li><input id="hotelID" type="checkbox" onclick="openFilter2(); updatePlot()">Hotels</li>
					<li><input id="enterID" type="checkbox" onclick="openFilter3(); updatePlot()">Entertainment</li>
				</ul>
			</div>

			<!--restaurant-->
			<div id="restaurantFilter" style="margin-bottom: 40px; display: none">
				<div class="category-title" style="width: 100%; float: left; padding-left: 12px">
					Filter by Restaurants
				</div>
				<div style="padding-left: 12px;">
					<div style="float:left" id="list1" class="dropdown-check-list" tabindex="100">
						<span class="anchor drop-down-title-font">Prices</span>
						<ul class="items drop-down-item-font" id="items1">
							<li><input id="restPriceVeryCheap" type="checkbox" onclick="updatePlot()">$ </li>
							<li><input id="restPriceCheap" type="checkbox" onclick="updatePlot()">$$</li>
							<li><input id="restPriceMedium" type="checkbox" onclick="updatePlot()">$$$ </li>
							<li><input id="restPriceExpensive" type="checkbox" onclick="updatePlot()">$$$$ </li>
						</ul>
					</div>
			
					<div style="float:left" id="list2" class="dropdown-check-list" tabindex="100">
						<span class="anchor drop-down-title-font">Ratings</span>
						<ul class="items drop-down-item-font" id="items2">
							<li><input id="restRating1" type="checkbox" onclick="updatePlot()">1</li>
							<li><input id="restRating2" type="checkbox" onclick="updatePlot()">2</li>
							<li><input id="restRating3" type="checkbox" onclick="updatePlot()">3</li>
							<li><input id="restRating4" type="checkbox" onclick="updatePlot()">4</li>
							<li><input id="restRating5" type="checkbox" onclick="updatePlot()">5</li>
						</ul>
					</div>

					<div style="float:left" id="list3" class="dropdown-check-list" tabindex="100">
						<span class="anchor drop-down-title-font">Regions</span>
						<ul class="items drop-down-item-font" id="items3">
							<li><input id="restRegionMidtown" type="checkbox" onclick="updatePlot()">Midtown-Midtown South</li>
							<li><input id="restRegionClinton" type="checkbox" onclick="updatePlot()">Clinton</li>
							<li><input id="restRegionLincoln" type="checkbox" onclick="updatePlot()">Lincoln Square</li>
							<li><input id="restRegionSoho" type="checkbox" onclick="updatePlot()">Soho-TriBeCa-Civic Center-Little Italy</li>
						</ul>
					</div>

					<div style="float:left" id="list4" class="dropdown-check-list" tabindex="100">
						<span class="anchor drop-down-title-font">Tastes</span>
						<ul class="items drop-down-item-font" id="items4">
							<li><input id="restTasteMexican" type="checkbox" onclick="updatePlot()">Mexican</li>
							<li><input id="restTasteChinese" type="checkbox" onclick="updatePlot()">Chinese</li>
							<li><input id="restTasteItalian" type="checkbox" onclick="updatePlot()">Italian</li>
							<li><input id="restTasteFrench" type="checkbox" onclick="updatePlot()">French</li>
							<li><input id="restTasteAmerican" type="checkbox" onclick="updatePlot()">American</li>
							<li><input id="restTasteDiner" type="checkbox" onclick="updatePlot()">Diner</li>
							<li><input id="restTasteFastfood" type="checkbox" onclick="updatePlot()">Fast Food</li>
							<li><input id="restTasteDessert" type="checkbox" onclick="updatePlot()">Dessert</li>
							<li><input id="restTasteThai" type="checkbox" onclick="updatePlot()">Thai</li>
							<li><input id="restTasteSteakhouse" type="checkbox" onclick="updatePlot()">Steakhouse</li>
							<li><input id="restTasteBarbecue" type="checkbox" onclick="updatePlot()">Barbecue</li>
							<li><input id="restTastePanasian" type="checkbox" onclick="updatePlot()">Pan Asian</li>
							<li><input id="restTasteRussian" type="checkbox" onclick="updatePlot()">Russian</li>
							<li><input id="restTastePizza" type="checkbox" onclick="updatePlot()">Pizza</li>
							<li><input id="restTasteTurkish" type="checkbox" onclick="updatePlot()">Turkish</li>
							<li><input id="restTasteIdian" type="checkbox" onclick="updatePlot()">Indian</li>
							<li><input id="restTasteJapanese" type="checkbox" onclick="updatePlot()">Japanese</li>
							<li><input id="restTasteVietnamese" type="checkbox" onclick="updatePlot()">Vietnamese</li>
							<li><input id="restTasteSeafood" type="checkbox" onclick="updatePlot()">Seafood</li>
							<li><input id="restTasteCajun" type="checkbox" onclick="updatePlot()">Cajun</li>
							<li><input id="restTasteChilean" type="checkbox" onclick="updatePlot()">Chilean</li>
							<li><input id="restTasteBeverages" type="checkbox" onclick="updatePlot()">Beverages</li>
							<li><input id="restTasteScottish" type="checkbox" onclick="updatePlot()">Scottish</li>
							<li><input id="restTasteCatering" type="checkbox" onclick="updatePlot()">Catering</li>
							<li><input id="restTasteBelgian" type="checkbox" onclick="updatePlot()">Belgian</li>
							<li><input id="restTasteCuban" type="checkbox" onclick="updatePlot()">Cuban</li>
							<li><input id="restTasteBrazilian" type="checkbox" onclick="updatePlot()">Brazilian</li>
							<li><input id="restTasteOthers" type="checkbox" onclick="updatePlot()">Others</li>
							<li><input id="restTasteArgentinian" type="checkbox" onclick="updatePlot()">Argentinian</li>
							<li><input id="restTasteSpanish" type="checkbox" onclick="updatePlot()">Spanish</li>	
							<li><input id="restTasteOrganic" type="checkbox" onclick="updatePlot()">Organic</li>
							<li><input id="restTasteNonbeverages" type="checkbox" onclick="updatePlot()">Non beverages</li>
						</ul>
					</div>
				</div>
			</div>

			<!--hotel-->
			<div id="hotelFilter" style="margin-bottom: 20px; display: none;">
				<div class="category-title" style="width: 100%; float: left; padding-left: 12px">
					Filter by Hotels
				</div>
				<div style="padding-left: 12px">
					<div style="float:left" id="list5" class="dropdown-check-list" tabindex="100">
						<span class="anchor drop-down-title-font">Prices</span>
						<ul class="items drop-down-item-font" id="items5">
							<li><input id="hotelPriceVeryCheap" type="checkbox" onclick="updatePlot()">$ </li>
							<li><input id="hotelPriceCheap" type="checkbox" onclick="updatePlot()">$$</li>
							<li><input id="hotelPriceMedium" type="checkbox" onclick="updatePlot()">$$$ </li>
							<li><input id="hotelPriceExpensive" type="checkbox" onclick="updatePlot()">$$$$ </li>
						</ul>
					</div>
			
					<div style="float:left" id="list6" class="dropdown-check-list" tabindex="100">
						<span class="anchor drop-down-title-font">Ratings</span>
						<ul class="items drop-down-item-font" id="items6">
							<li><input id="hotelRating1" type="checkbox" onclick="updatePlot()">1</li>
							<li><input id="hotelRating2" type="checkbox" onclick="updatePlot()">2</li>
							<li><input id="hotelRating3" type="checkbox" onclick="updatePlot()">3</li>
							<li><input id="hotelRating4" type="checkbox" onclick="updatePlot()">4</li>
							<li><input id="hotelRating5" type="checkbox" onclick="updatePlot()">5</li>
						</ul>
					</div>

					<div style="float:left" id="list7" class="dropdown-check-list" tabindex="100">
						<span class="anchor drop-down-title-font">Regions</span>
						<ul class="items drop-down-item-font" id="items7">
							<li><input id="hotelRegionMidtown" type="checkbox" onclick="updatePlot()">Midtown-Midtown South</li>
							<li><input id="hotelRegionClinton" type="checkbox" onclick="updatePlot()">Clinton</li>
						</ul>
					</div>
				</div>
			</div>

			<!--entertainment-->
			<div id="entertainmentFilter" style="margin-bottom: 20px; display: none;">
				<div class="category-title" style="width: 100%; float: left; padding-left: 12px">
					Filter by Entertainment
				</div>
				<div style="padding-left: 12px">
					<div style="float:left" id="list9" class="dropdown-check-list" tabindex="100">
						<span class="anchor drop-down-title-font">Prices</span>
						<ul class="items drop-down-item-font" id="items9">
							<li><input id="enterPriceVeryCheap" type="checkbox" onclick="updatePlot()">$ </li>
							<li><input id="enterPriceCheap" type="checkbox" onclick="updatePlot()">$$</li>
							<li><input id="enterPriceMedium" type="checkbox" onclick="updatePlot()">$$$ </li>
							<li><input id="enterPriceExpensive" type="checkbox" onclick="updatePlot()">$$$$ </li>
						</ul>
					</div>
			
					<div style="float:left" id="list10" class="dropdown-check-list" tabindex="100">
						<span class="anchor drop-down-title-font">Ratings</span>
						<ul class="items drop-down-item-font" id="items10">
							<li><input id="enterRating1" type="checkbox" onclick="updatePlot()">1</li>
							<li><input id="enterRating2" type="checkbox" onclick="updatePlot()">2</li>
							<li><input id="enterRating3" type="checkbox" onclick="updatePlot()">3</li>
							<li><input id="enterRating4" type="checkbox" onclick="updatePlot()">4</li>
							<li><input id="enterRating5" type="checkbox" onclick="updatePlot()">5</li>
						</ul>
					</div>

					<div style="float:left" id="list11" class="dropdown-check-list" tabindex="100">
						<span class="anchor drop-down-title-font">Regions</span>
						<ul class="items drop-down-item-font" id="items11">
							<li><input id="enterRegionMidtown" type="checkbox" onclick="updatePlot()">Midtown-Midtown South</li>
							<li><input id="enterRegionClinton" type="checkbox" onclick="updatePlot()">Clinton</li>
							<li><input id="enterRegionOther" type="checkbox" onclick="updatePlot()">Others</li>
						</ul>
					</div>

					<div style="float:left" id="list12" class="dropdown-check-list" tabindex="100">
						<span class="anchor drop-down-title-font">Types</span>
						<ul class="items drop-down-item-font" id="items12">
							<li><input id="enterVenueTheater" type="checkbox" onclick="updatePlot()">Theater</li>
							<li><input id="enterVenueComedy" type="checkbox" onclick="updatePlot()">Comedy Club</li>
							<li><input id="enterVenueNightclub" type="checkbox" onclick="updatePlot()">Nightclub</li>
							<li><input id="enterVenueAttraction" type="checkbox" onclick="updatePlot()">Attractions / Amusement</li>
							<li><input id="enterVenueMovie" type="checkbox" onclick="updatePlot()">Movies</li>
							<li><input id="enterVenueMuseum" type="checkbox" onclick="updatePlot()">Museums / Galleries</li>
							<li><input id="enterVenueLivemusic" type="checkbox" onclick="updatePlot()">Live Music</li>
							<li><input id="enterVenueLecturehall" type="checkbox" onclick="updatePlot()">Lecture Hall</li>
						</ul>
					</div>

				</div>
			</div>
		</div>

		
		<script src="three.js-master/build/three.js"></script>
		<script src="https://d3js.org/d3.v4.min.js"></script>

		<script src="js/DragControls.js"></script>
		<script src="js/OrbitControls.js"></script>
		<script src="js/TransformControls.js"></script>
		<script src="js/three.interaction.js"></script>

		<script src="js/dat.gui.min.js"></script>
		<script src="js/utils.js"></script>
		<script src="js/textures.js"></script>

		<script src="js/filterRestaurants.js"></script>
		<script src="js/filterHotels.js"></script>
		<script src="js/filterEntertainment.js"></script>
		<script src="js/filterControls.js"></script>
		<script src="js/textUpdate.js"></script>
		<script src="js/toolTip.js"></script>
		<script src="js/buildHotel.js"></script>
		<script src="js/buildRestaurant.js"></script>
		<script src="js/buildRoads.js"></script>
		<script src="js/buildTrees.js"></script>


		<script>
			
			var hotelData;
			var restaurantData;
			var entertainmentData;
			var buildingObjects = [];
			var positions = [];
			var objectCount = 0;
			var projection = d3.geoMercator()

			//to alignment the coordinate plane
			var xOffset = -1000;
			var yOffset = -7000;
			var scaleFactor = 10000;
			var angle = 33;
			var minX, minY, maxX, maxY;

			var hiding;

			//control
			var container, stats;
			var scene = new THREE.Scene();
			var camera, renderer, raycaster;
			var mouse = new THREE.Vector2(), INTERSECTED;
			var point = new THREE.Vector3();
			var geometry = new THREE.BoxGeometry( 80, 100, 80 );
			var transformControl;
			var ARC_SEGMENTS = 200;
			var splines = {};

			var spritey;
			var canvas1, context1, texture1;


			// textinfo
			var nameInfo, typeInfo, priceInfo, ratingInfo, addressInfo;
			var positionArray = [];


			var materialsRestaurant = [
				new THREE.MeshBasicMaterial({
					map: THREE.ImageUtils.loadTexture('/images/building_texture_02.jpg')
				}),
				new THREE.MeshBasicMaterial({
					map: THREE.ImageUtils.loadTexture('/images/building_texture_02.jpg')
				}),
				new THREE.MeshBasicMaterial({
					map: THREE.ImageUtils.loadTexture('/images/building_texture_02.jpg')
				}),
				new THREE.MeshBasicMaterial({
					map: THREE.ImageUtils.loadTexture('/images/building_texture_02.jpg')
				}),
				new THREE.MeshBasicMaterial({
					map: THREE.ImageUtils.loadTexture('/images/building_texture_02.jpg')
				}),
				new THREE.MeshBasicMaterial({
					map: THREE.ImageUtils.loadTexture('/images/building_texture_02.jpg')
				})
			];

			var materialsHotel = [
				new THREE.MeshBasicMaterial({
					map: THREE.ImageUtils.loadTexture('/images/building_texture_04.jpg')
				}),
				new THREE.MeshBasicMaterial({
					map: THREE.ImageUtils.loadTexture('/images/building_texture_04.jpg')
				}),
				new THREE.MeshBasicMaterial({
					map: THREE.ImageUtils.loadTexture('/images/building_texture_04.jpg')
				}),
				new THREE.MeshBasicMaterial({
					map: THREE.ImageUtils.loadTexture('/images/building_texture_04.jpg')
				}),
				new THREE.MeshBasicMaterial({
					map: THREE.ImageUtils.loadTexture('/images/building_texture_04.jpg')
				}),
				new THREE.MeshBasicMaterial({
					map: THREE.ImageUtils.loadTexture('/images/building_texture_04.jpg')
				})
			];

			var materialsEntertainment = [
				new THREE.MeshBasicMaterial({
					map: THREE.ImageUtils.loadTexture('/images/building_texture_03.jpg')
				}),
				new THREE.MeshBasicMaterial({
					map: THREE.ImageUtils.loadTexture('/images/building_texture_03.jpg')
				}),
				new THREE.MeshBasicMaterial({
					map: THREE.ImageUtils.loadTexture('/images/building_texture_03.jpg')
				}),
				new THREE.MeshBasicMaterial({
					map: THREE.ImageUtils.loadTexture('/images/building_texture_03.jpg')
				}),
				new THREE.MeshBasicMaterial({
					map: THREE.ImageUtils.loadTexture('/images/building_texture_03.jpg')
				}),
				new THREE.MeshBasicMaterial({
					map: THREE.ImageUtils.loadTexture('/images/building_texture_03.jpg')
				})
			];


			// initialize on text
			textInit();
			
			//load csv file
			d3.queue()
			.defer(d3.csv, "data/hotels.csv")
			.defer(d3.csv, "data/restaurants.csv")
			.defer(d3.csv, "data/entertainment.csv")
			.await(function(error, data1, data2, data3) {
				if (error) {
					console.error('Oh dear, something went wrong: ' + error);
				}
				else {
					hotelData = data1;
					restaurantData = data2;
					entertainmentData = data3;
					console.log(hotelData);
					console.log(restaurantData);

					assignCoordinate(hotelData);
					assignCoordinate(restaurantData);
					assignCoordinate(entertainmentData);

					maxX = d3.max(hotelData.map(function(d){return d.coordinate[0];}));
					minX = d3.min(hotelData.map(function(d){return d.coordinate[0];}));
					maxY = d3.max(hotelData.map(function(d){return d.coordinate[1];}));
					minY = d3.min(hotelData.map(function(d){return d.coordinate[1];}));

					scaleData(restaurantData);
					scaleData(hotelData);
					scaleData(entertainmentData);
				}
				
				init();
				plot();
				animate();
			});

			function init() {
				container = document.getElementById( 'container' );
				scene.background = new THREE.Color( 0xf0f0f0 );
				camera = new THREE.PerspectiveCamera( 70, window.innerWidth / window.innerHeight, 0.1, 100000 );
				camera.position.set( 0, 250, 1000 );
				scene.add( camera );
				scene.add( new THREE.AmbientLight( 0xf0f0f0 ) );

				// add raycaster
				raycaster = new THREE.Raycaster();

				addLightShadow();
				// createGUI();

				var planeGeometry = new THREE.BoxBufferGeometry( 15000, 20, 12000 );
				// planeGeometry.rotateX( - Math.PI / 2 );
				var planeMaterial = new THREE.ShadowMaterial( { opacity: 0.1 } );

				//add plane
				var plane = utils.makeMesh('lambert', planeGeometry, "#c4c9d1")
				plane.position.y = -220;
				plane.receiveShadow = true;
				scene.add( plane );

				// //grid helper
				// var helper = new THREE.GridHelper( 15000, 100 );
				// // helper.position.y = - 199;
				// helper.material.opacity = 0.25;
				// helper.material.transparent = true;
				// scene.add( helper );

				//render
				renderer = new THREE.WebGLRenderer( { antialias: true } );
				renderer.setPixelRatio( window.devicePixelRatio );
				renderer.setSize( window.innerWidth, window.innerHeight );
				renderer.shadowMap.enabled = true;
				container.appendChild( renderer.domElement );

				// Controls
				var controls = new THREE.OrbitControls( camera, renderer.domElement );

				// interaction
				var interaction = new THREE.Interaction(renderer, scene, camera);

				// sprite
				var spritex;		
				
				
				//road
				buildRoad();

				//tree
				addTrees();

				addHotel(10, -200);
				addRestaurant(500, -200)

			}


			var now,delta,then = Date.now();
			var interval = 1000/30;

			function animate() {
				// setTimeout( function() {

					requestAnimationFrame( animate );

				// }, 1000 / 30 );

				render();
			}


			function render() {

				renderer.render( scene, camera );				
			}


			function assignCoordinate(data) {
				for (var i = 0; i < data.length; i++) {
					var aa = [data[i].Latitude, data[i].Longitude];
					data[i].coordinate = projection(aa);
				}
			}


			function scaleData(data) {
				for (var i = 0; i < data.length; i++) {
					data[i].coordinate[0] = (data[i].coordinate[0] - minX) / (maxX - minX) * scaleFactor;
					data[i].coordinate[1] = (data[i].coordinate[1] - minY) / (maxY - minY) * scaleFactor;					
					var x = data[i].coordinate[0];
					var y = data[i].coordinate[1];
					var rad = angle * Math.PI/180;
					data[i].coordinate[0] = x * Math.cos(rad) - y * Math.sin(rad) + xOffset;
					data[i].coordinate[1] = y * Math.cos(rad) + x * Math.sin(rad) + yOffset;					
				}
			}


			function addLightShadow() {
				//light and shadow
				var light = new THREE.SpotLight( 0xffffff, 1.5 );
				light.position.set( 0, 1500, 200 );
				light.castShadow = true;
				light.shadow = new THREE.LightShadow( new THREE.PerspectiveCamera( 70, 1, 200, 2000 ) );
				light.shadow.bias = -0.000222;
				light.shadow.mapSize.width = 1024;
				light.shadow.mapSize.height = 1024;
				scene.add( light );
				spotlight = light;
			}


			function addSplineObject(objectType, position, name, price, rating, region, address, colorStr) {

				if (objectType == "restaurant") {
					var object = new THREE.Mesh( geometry, materialsRestaurant );
				} else if (objectType == "hotel") {
					var object = new THREE.Mesh( geometry, materialsHotel );
				} else if (objectType == "entertainment") {
					var object = new THREE.Mesh( geometry, materialsEntertainment );
				}
				

				positionArray.push(position);
				object.position.copy( position );

				object.castShadow = true;
				object.receiveShadow = true;

				object.on('mouseover', function(ev) {

					// mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
					// mouse.y = - (event.clientY / window.innerHeight) * 2 + 1;
					// var vector = new THREE.Vector3(mouse.x, mouse.y, 0.5);
					// vector.unproject( camera );
					// var dir = vector.sub( camera.position ).normalize();
					// var distance = - camera.position.z / dir.z;
					// var pos = camera.position.clone().add( dir.multiplyScalar( distance ) );
					// spritex = makeTextSprite( name, { fontsize: 24, borderColor: {r:0, g:0, b:255, a:1.0}} );
					// console.log(spritex)
					// spritex.position.copy(pos);
					// scene.add( spritex );


					textUpdate(name, price, rating, region, address);
					console.log(object.position);
				});
				object.on('mouseout', function(ev) {
					// scene.remove( spritex );
				});

				scene.add( object );
				buildingObjects.push( object );
				return object;
			}

			function plot() {
				for (var i = 0; i < hotelData.length; i++) {
					var object = addSplineObject("hotel", new THREE.Vector3(hotelData[i].coordinate[0], -150, hotelData[i].coordinate[1]), hotelData[i]["Company Name"], hotelData[i]["Price"], hotelData[i]["Rating"], hotelData[i]["Region"], hotelData[i]["Address"], "green");
					objectCount++;
					positions.push(object.position);
				}
				for (var i = 0; i < restaurantData.length; i++) {
					var object = addSplineObject("restaurant", new THREE.Vector3(restaurantData[i].coordinate[0], -150, restaurantData[i].coordinate[1]), restaurantData[i]["Company Name"], restaurantData[i]["Price"], restaurantData[i]["Rating"], restaurantData[i]["Region"], restaurantData[i]["Address"], "red");
					objectCount++;
					positions.push(object.position);
				}
				for (var i = 0; i < entertainmentData.length; i++) {
					var object = addSplineObject("entertainment", new THREE.Vector3(entertainmentData[i].coordinate[0], -150, entertainmentData[i].coordinate[1]), entertainmentData[i]["Company Name"],  entertainmentData[i]["Price"], entertainmentData[i]["Rating"], entertainmentData[i]["Region"], entertainmentData[i]["Address"],"yellow");			
					objectCount++;
					positions.push(object.position);
				}					
			}

			function updatePlot() {
				removeAllPoints();
				var restaurant = document.getElementById('restID').checked;
				var entertainment = document.getElementById('enterID').checked;
				var hotel = document.getElementById('hotelID').checked;
				if (!restaurant && !entertainment && !hotel) {
					plot();
				} else {
					updateRestaurant();
					updateHotel();
					updateEntertainment();	
				}
			}


			function removeAllPoints() {
				if ( objectCount <= 0 ) {
					return;
				}
				for (var i = 0; i < objectCount; i++) {
					positions.pop();
					scene.remove( buildingObjects.pop() );
				}
				objectCount = 0;
			}

		</script>
	</body>
</html>